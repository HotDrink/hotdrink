<html>
  <head>
    <title>HotDrink Test</title>
    <style type="text/css">
      .derived { background: #ffe; }
    </style>
    <script type="text/javascript" src="../../scripts/hotdrink.js"></script>
    <script type="text/javascript">
      {
        var context = new hd.ContextBuilder()
            .v( 'x', 3 )
            .v( 'y', 7 )
            .r( 'z' )
            .context();
        context.z = context.x;

        var pm = new hd.PropertyModel();
        pm.addComponent( context );

        window.addEventListener( 'load', function() {
          hd.performDeclaredBindings( context );
        } );
      }

      var flop = true;
      function flip() {
        if (flop) {
          context.z = context.y;
        }
        else {
          context.z = context.x;
        }
        flop = !flop;
      }
    </script>
  </head>
  <body>
    <p>
    </p>
    <table>
      <tr>
        <td>X:</td>
        <td><input type="text" data-bind="hd.num( x )"/></td>
        <td>Y:</td>
        <td><input type="text" data-bind="hd.num( y )"/></td>
        <td>Z:</td>
        <td><input type="text" data-bind="hd.num( hd.path( this, 'z' ) )"/></td>
      </tr>
    </table>
    <button onclick="flip()">Flip!</button>
  </body>
</html>
