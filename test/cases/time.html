<html>
  <head>
    <title>HotDrink Test</title>
    <script type="text/javascript" src="../../scripts/hotdrink.js"></script>
    <script type="text/javascript">
      {
        var context = new hd.ContextBuilder()
          .v( 'x', new Date() )
          .v( 'y', new Date() )
          .v( 'z' )

          .c( 'x, y, z' )
          .m( 'x, y -> z', function( x, y ) {
            return Math.round((x.getTime() - y.getTime()) / 1000);
          } )

          .context();

        var pm = new hd.PropertyModel();
        pm.addComponent( context );

        window.addEventListener( 'load', function() {
          hd.performDeclaredBindings( context );
          hd.bind( {view: new hd.Time( 1000 ),
                    model: context.x
                   }
                 );
        } );
      }
    </script>
    <style type="text/css">
      span.silly { background: #def; border: 1px solid #080; }
    </style>
  </head>
  <body>
    <div data-bind="hd.text( x, hd.dateToTimeString() )"></div>
    <div><span data-bind="hd.text( z )"></span> seconds</div>
  </body>
</html>
