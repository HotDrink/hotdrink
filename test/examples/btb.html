<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
  <script type="text/javascript" src="https://raw.github.com/kriskowal/es5-shim/master/es5-shim.min.js"></script>
  <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
  <script type="text/javascript" src="../js/hotdrink.js"></script>
  <title>A Better Textbox | HotDrink Test Suite</title>
  <script type="text/javascript">
    $(document).ready(function () {

      var log = $("#log");

      var viewModel = {
        value:     hd.variable("hello world"),
        isEditing: hd.variable(false),

        onFocus:   function () {
          console.log("starting");
          log.append("<p>starting</p>");
        },

        onEdit:    function () {
          console.log("edit");
          log.append("<p>edit</p>");
        },

        onBlur:    function () {
          console.log("finish");
          log.append("<p>finish</p>");
        },

        edit:      function () {
          viewModel.isEditing(true);
        }
      };
      hd.bind(viewModel);

    });
  </script>
</head>
<body>
  <p>
  <input type="text" data-bind="btb: { value: value, editing: isEditing, focus: onFocus, edit: onEdit, blur: onBlur }" />
  <button data-bind="click: edit">Edit</button>
  editing = <span data-bind="text: isEditing"></span>
  </p>
  <p data-bind="text: value">
  </p>
  <p id="log"></p>
</body>
</html>

