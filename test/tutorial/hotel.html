
<script type="text/javascript">

  var DateModel = function () {
    this.check_in = hd.variable(new Date());
    this.nights = hd.variable(2);
    this.check_out = hd.variable();

    hd.constraint()
      .method(this.check_out, function () { return add_days(this.check_in(), this.nights()); })
      .method(this.check_in, function () { return remove_days(this.check_out(), this.nights()); })
      .method(this.nights, function () { return day_difference(this.check_in(), this.check_out()); });
  };
  
  var model = hd.model(new DateModel());
  
  $(document).ready(function () {
    hotdrink.bind(model);
  });
</script>

<fieldset>
  <legend>Select dates</legend>
  <div>
    <label>Check in</label>
    <input id="check_in" type="text" data-bind="text: {value: check_in, convert: stringToDate, convertBack: dateToString}" />
  </div>
  <div>
    <label>Check out</label>
    <input id="check_out" type="text" data-bind="text: {value: check_out, convert: stringToDate, convertBack: dateToString}" />
  </div>
  <div>
    <label>Nights</label>
    <input type="text" data-bind="number: nights" />
  </div>
</fieldset>
